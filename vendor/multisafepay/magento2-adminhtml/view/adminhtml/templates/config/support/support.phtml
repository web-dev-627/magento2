<?php
/**
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Open Software License (OSL 3.0)
 * that is provided with Magento in the file LICENSE.txt.
 * It is also available through the world-wide-web at this URL:
 * http://opensource.org/licenses/osl-3.0.php
 *
 * Copyright Â© 2021 MultiSafepay, Inc. All rights reserved.
 * See DISCLAIMER.md for disclaimer details.
 *
 */

declare(strict_types=1);

use MultiSafepay\ConnectAdminhtml\Block\Adminhtml\Config\Support\Support;

/** @var Magento\Framework\View\TemplateEngine\Php $this */
/** @var Support $block */

$newVersionData = $block->isNewVersionAvailable()
?>
<div id="multisafepay-support" class="multisafepay-support-information">
    <h2 id="multisafepay-title"><?= $block->getEscaper()->escapeHtml(__('Installed Version')) ?></h2>
    <table id="version-table">
        <tr class="no-padding-top">
            <td class="version-table-row version-table-row-text">
                <?= $block->getEscaper()->escapeHtml('Current MultiSafepay version:')?>
            </td>
            <td class="version-table-row">
                    <span class="<?php if ($newVersionData):?> multisafepay-version-update <?php endif;?>
                multisafepay-version-last-version multisafepay-bold version-value">
                        <?= $block->getEscaper()->escapeHtml($block->getModuleVersion()) ?>
                    </span>
            </td>
        </tr>

        <?php if ($newVersionData): ?>
            <tr class="no-padding-top">
                <td class="version-table-row">
                    <?= $block->getEscaper()->escapeHtml('New version is available:')?>
                </td>
                <td class="version-table-row">
                    <div class="new-version">
                        <span class="multisafepay-bold download version-value">
                            <a href="<?= $block->getEscaper()->escapeUrl($newVersionData['url']); ?>"
                               target="_blank"><?= $block->getEscaper()->escapeHtml($newVersionData['version']); ?></a>
                        </span>
                        <p>
                            <a href="<?= $block->getEscaper()->escapeUrl($block->getUpdateDocsLink()); ?>"
                               target="_blank" class="btn multisafepay-btn-primary multisafepay-btn-primary-link">
                                <?= $block->getEscaper()->escapeHtml(__('How to update?')) ?>
                            </a>
                        </p>
                    </div>
                </td>
            </tr>
        <?php endif; ?>
    </table>
    <h2 id="multisafepay-title"><?= $block->getEscaper()->escapeHtml(__('Version support')) ?></h2>
    <table>
        <tr>
            <td class="version-table-row multisafepay-bold">
                <?= $block->getEscaper()->escapeHtml('Open Source: 2.2.x, 2.3.x, 2.4.x')?>
            </td>
        </tr>
    </table>
    <br />
    <h2 id="multisafepay-title"><?= $block->getEscaper()->escapeHtml(__('Documentation')) ?></h2>
    <?php $msg = 'Read our documentation for more information about MultiSafepay and how to get started:' ?>
    <p><?= $block->getEscaper()->escapeHtml(__($msg)) ?></p>
    <ul class="multisafepay-ul multisafepay-lh">
        <li>
            <a href="https://docs.multisafepay.com/integrations/plugins/magento2/beta/" target="_blank">
                <?= $block->getEscaper()->escapeHtml(__('Manual')) ?>
            </a>
        </li>
        <li>
            <a href="https://github.com/MultiSafepay/magento2/blob/master/CHANGELOG.md" target="_blank">
                <?= $block->getEscaper()->escapeHtml(__('Changelog')) ?>
            </a>
        </li>
        <li>
            <a href="https://docs.multisafepay.com/support-tab/magento2/faq" target="_blank">
                <?= $block->getEscaper()->escapeHtml(__('FAQ')) ?>
            </a>
        </li>
    </ul>
    <p><?= $block->getEscaper()->escapeHtml(__('For developers:')) ?></p>
    <ul class="multisafepay-ul multisafepay-lh">
        <li>
            <a href="https://docs.multisafepay.com/support-tab/api" target="_blank">
                <?= $block->getEscaper()->escapeHtml(__('API Documentation')) ?>
            </a>
        </li>
        <li>
            <a href="https://github.com/MultiSafepay/magento2" target="_blank">
                <?= $block->getEscaper()->escapeHtml('MultiSafepay Github') ?>
            </a>
        </li>
    </ul>
    <h2 id="multisafepay-title"><?= $block->getEscaper()->escapeHtml(__('Account')) ?></h2>
    <p class="multisafepay-lh">
        <?= $block->getEscaper()->escapeHtml(__('To use this plugin you need a MultiSafepay account.')) ?>
        <br />
        <?php $link = $block->getEscaper()->escapeUrl('https://testmerchant.multisafepay.com/signup'); ?>
        <?php $msg = 'If you would like to have a clear overview of what MultiSafepay has to offer, '; ?>
        <?php $msg .= 'feel free to create a %1test account%2'; ?>
        <?= /** @escapeNotVerified */ __($msg, '<a href="' . $link . '">', '</a>') ?>
    </p>
    <p class="multisafepay-lh" style="padding-top:20px;">
        <?php $msg = 'If you would like to set up a live account, please contact the MultiSafepay sales department:'; ?>
        <?= $block->getEscaper()->escapeHtml(__($msg)) ?>
    </p>
    <ul class="multisafepay-ul multisafepay-lh">
        <li>
            <?= $block->getEscaper()->escapeHtml(__('Telephone: ')) ?>
            <a href="tel:+31208500501">
                <?= $block->getEscaper()->escapeHtml('+31 (0)20 - 8500501') ?>
            </a>
        </li>
        <li>
            <?= $block->getEscaper()->escapeHtml(__('E-mail: ')) ?>
            <a href="mailto:sales@multisafepay.com">
                <?= $block->getEscaper()->escapeHtml('sales@multisafepay.com') ?>
            </a>
        </li>
    </ul>
    <h2 id="multisafepay-title"><?= $block->getEscaper()->escapeHtml(__('Contact')) ?></h2>
    <p class="multisafepay-lh">
        <?= $block->getEscaper()->escapeHtml(__('Need assistance? Feel free to contact our integration team:')) ?>
    </p>
    <ul class="multisafepay-ul multisafepay-lh">
        <li>
            <?= $block->getEscaper()->escapeHtml(__('Telephone: ')) ?>
            <a href="tel:+31208500500">
                <?= $block->getEscaper()->escapeHtml('+31 (0)20 - 8500500') ?>
            </a>
        </li>
        <li>
            <?= $block->getEscaper()->escapeHtml(__('E-mail: ')) ?>
            <a href="mailto:integration@multisafepay.com">
                <?= $block->getEscaper()->escapeHtml('integration@multisafepay.com') ?>
            </a>
        </li>
    </ul>
</div>
