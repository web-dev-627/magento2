<?xml version="1.0" encoding="UTF-8"?>
<!--
/**
 * @author Amasty Team
 * @copyright Copyright (c) 2020 Amasty (https://www.amasty.com)
 * @package Amasty_Checkout
 */
-->
<actionGroups xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
              xsi:noNamespaceSchemaLocation="urn:magento:mftf:Test/etc/actionGroupSchema.xsd">

    <actionGroup name="GoToOSCFromCart">
        <amOnPage url="{{FrontCartPage.url}}" stepKey="navigateToShoppingCart1"/>
        <waitForPageLoad stepKey="waitForPageLoadCart"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoadCart"/>
        <click selector="{{FrontCartSection.ProceedToCheckout}}" stepKey="ProceedToCheckout"/>
        <waitForPageLoad stepKey="waitForPageLoadCheckout"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoadCheckout"/>
    </actionGroup>

    <actionGroup name="GoToOSCAsCustomerDefaultAddressAndChooseShipping">
        <arguments>
            <argument name="shippingMethodsOnCheckout"/>
        </arguments>
        <amOnPage url="{{OneStepCheckoutPage.url}}" stepKey="navigateToOneStepCheckout"/>
        <waitForPageLoad stepKey="waitForPageLoad1"/>
        <click selector="//input[@value='{{shippingMethodsOnCheckout.shippingMethodsNameOnCheckout}}']" stepKey="selectShippingMethod"/>
        <waitForPageLoad stepKey="waitForPageLoadAfterSelectShipping"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoadAfterSelectShipping"/>
    </actionGroup>

    <actionGroup name="GoToOSCAsCustomerChooseAddressAndShipping">
        <arguments>
            <argument name="customer"/>
            <argument name="shippingMethodsOnCheckout"/>
        </arguments>
        <amOnPage url="{{OneStepCheckoutPage.url}}" stepKey="navigateToOneStepCheckout"/>
        <waitForPageLoad stepKey="waitForPageLoadAfterOpenPage"/>
        <click selector="//div[contains(@class, 'not-selected')][contains(string(), '{{customer.region}}')][contains(string(), '{{customer.postcode}}')]//span[contains(string(), 'Ship Here')]"
               stepKey="selectCustomerAddressMethod"/>
        <waitForPageLoad stepKey="waitForPageLoadAfterChangeAddress"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoadAfterChangeAddress"/>
        <waitForPageLoad stepKey="waitForPageLoadBeforeChooseAddress"/>
        <click selector="//input[@value='{{shippingMethodsOnCheckout.shippingMethodsNameOnCheckout}}']" stepKey="selectShippingMethod"/>
        <waitForPageLoad stepKey="waitForPageLoadAfterChooseAddress"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoadAfterChooseAddress"/>
    </actionGroup>

    <actionGroup name="GoToOSCAsGuestAndChooseShipping">
        <arguments>
            <argument name="customer"/>
            <argument name="shippingMethodsOnCheckout"/>
        </arguments>
        <amOnPage url="{{OneStepCheckoutPage.url}}" stepKey="navigateToOneStepCheckout"/>
        <waitForPageLoad stepKey="waitForPageLoadAfterOpenCheckout"/>
        <fillField selector="{{StorefrontOneStepCheckoutSection.Email}}" userInput="{{customer.email}}"
                   stepKey="enterEmail"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoadAfterEnterEmail"/>
        <fillField selector="{{StorefrontOneStepCheckoutSection.FirstName}}"
                   userInput="{{customer.firstname}}" stepKey="enterFirstName"/>
        <fillField selector="{{StorefrontOneStepCheckoutSection.LastName}}" userInput="{{customer.lastname}}"
                   stepKey="enterLastName"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoadAfterFillLastName"/>
        <fillField selector="{{StorefrontOneStepCheckoutSection.Street}}"
                   userInput="{{customer.street}}" stepKey="enterStreet"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoadAfterFillStreet"/>
        <fillField selector="{{StorefrontOneStepCheckoutSection.City}}" userInput="{{customer.city}}"
                   stepKey="enterCity"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoadAfterFillCity"/>
        <selectOption selector="{{StorefrontOneStepCheckoutSection.SelectCountry}}"
                      userInput="{{customer.country}}"
                      stepKey="selectCountry"/>
        <scrollTo selector="{{StorefrontOneStepCheckoutSection.Postcode}}" stepKey="ScrollToPostcode"/>
        <fillField selector="{{StorefrontOneStepCheckoutSection.Postcode}}"
                   userInput="{{customer.postcode}}" stepKey="enterPostcode"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoadAfterFillPostcode"/>
        <selectOption selector="{{StorefrontOneStepCheckoutSection.SelectRegion}}"
                      userInput="{{customer.region}}"
                      stepKey="selectRegion"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoadAfterFillRegion"/>
        <scrollTo selector="{{StorefrontOneStepCheckoutSection.Telephone}}" stepKey="ScrollToTelephone"/>
        <fillField selector="{{StorefrontOneStepCheckoutSection.Telephone}}"
                   userInput="{{customer.telephone}}" stepKey="enterTelephone"/>
        <waitForPageLoad stepKey="waitForPageLoadAfterFillAddress"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoadAfterFillAddress"/>
        <waitForElementNotVisible selector="{{StorefrontOneStepCheckoutSection.ShippingLoader}}" stepKey="WaitForLoaderNotVisible"/>
        <wait time="2" stepKey="waitForLoadShipping"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoadShipping"/>
        <click selector="//input[@value='{{shippingMethodsOnCheckout.shippingMethodsNameOnCheckout}}']" stepKey="selectShippingMethod"/>
        <waitForPageLoad stepKey="waitForPageLoadAfterCheckShipping"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoadAfterCheckShipping"/>
    </actionGroup>

    <actionGroup name="GoToOSCCreateAccount" extends="GoToOSCAsGuestAndChooseShipping">
        <wait time="2" stepKey="waitForPassword" after="waitForAjaxLoadAfterEnterEmail"/>
        <fillField selector="{{StorefrontOneStepCheckoutSection.Password}}"
                   userInput="{{customer.password}}" after="waitForPassword" stepKey="enterPassword" />
        <fillField selector="{{StorefrontOneStepCheckoutSection.ConfirmPassword}}"
                   userInput="{{customer.password}}" after="enterPassword" stepKey="enterConfirmPassword"/>
    </actionGroup>

    <actionGroup name="GoToOSCAsGuestWithPopup" extends="GoToOSCFromCart">
        <arguments>
            <argument name="Customer"/>
        </arguments>
        <waitForPageLoad stepKey="waitForPageLoadBeforeFillData"/>
        <fillField selector="{{StorefrontOneStepCheckoutSection.PopUpEmail}}"
                   userInput="{{Customer.email}}" stepKey="enterEmail"/>
        <fillField selector="{{StorefrontOneStepCheckoutSection.PopUpPassword}}"
                   userInput="{{Customer.password}}" stepKey="enterPassword"/>
        <waitForPageLoad stepKey="waitForPageLoadAfterFillData"/>
        <click selector="{{StorefrontOneStepCheckoutSection.PopUpButtonSignIn}}" stepKey="SignInWithPopup"/>
        <waitForPageLoad stepKey="waitForPageLoadAfterSignIn"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoadAfterSignIn"/>
    </actionGroup>

    <!-- Action Groups below should be used after: "GoToOSCAsCustomerDefaultAddressAndChooseShipping" or
           "GoToOSCAsCustomerChooseAddressAndShipping" or "GoToOSCAsGuestAndChooseShipping"-->

    <actionGroup name="StorefrontOSCPlaceOrderBelowPaymentWithPayflowPro">
        <arguments>
            <argument name="creditCard"/>
        </arguments>
        <conditionalClick selector="//input[@value='payflowpro']"
                          dependentSelector="//div[contains(@class, 'active')]//input[@value='payflowpro']"
                          visible="false" stepKey="choosePaymentMethod"/>
        <waitForPageLoad stepKey="waitForPageLoadWithPayment"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoadWithPayment"/>
        <fillField selector="{{StorefrontOneStepCheckoutSection.PayflowProCreditCardNumber}}"
                   userInput="{{creditCard.cardNumber}}"
                   stepKey="enterNumber"/>
        <selectOption selector="{{StorefrontOneStepCheckoutSection.PayflowExpirationDateMonth}}"
                      userInput="{{creditCard.expirationMonth}}" stepKey="selectMonth"/>
        <selectOption selector="{{StorefrontOneStepCheckoutSection.PayflowExpirationDateYear}}"
                      userInput="{{creditCard.expirationYear}}" stepKey="selectYear"/>
        <fillField selector="{{StorefrontOneStepCheckoutSection.PayflowCVC}}"
                   userInput="{{creditCard.cvc}}"
                   stepKey="enterCVCNumber"/>
        <click selector="{{StorefrontOneStepCheckoutSection.PlaceOrderAfterPayment}}" stepKey="waitForPlaceOrderButton"/>
        <waitForPageLoad stepKey="waitForPageLoadAfterPlaceOrder"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoadAfterPlaceOrder"/>
        <waitForPageLoad stepKey="waitForPageLoadBeforeSuccessMessage"/>
        <seeElement selector="{{SuccessPageSection.SuccessMessage}}" stepKey="assertSuccessPage"/>
    </actionGroup>

    <actionGroup name="StorefrontOSCPlaceBelowPaymentPayflowProGrabNumber" extends="StorefrontOSCPlaceOrderBelowPaymentWithPayflowPro">
        <waitForPageLoad stepKey="waitForPageLoadAfterAssertSuccessPage"/>
        <grabTextFrom selector="{{SuccessPageSection.OrderNumberAfterPlaceOrder}}" stepKey="grabOrderNumber"/>
    </actionGroup>


    <actionGroup name="StorefrontOSCPlaceOrderBelowOrderWithPayflowPro">
        <arguments>
            <argument name="creditCard"/>
        </arguments>
        <conditionalClick selector="//input[@value='payflowpro']"
                          dependentSelector="//div[contains(@class, 'active')]//input[@value='payflowpro']"
                          visible="false" stepKey="choosePaymentMethod"/>
        <waitForPageLoad stepKey="waitForPageLoadWithPayment"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoadWithPayment"/>
        <fillField selector="{{StorefrontOneStepCheckoutSection.PayflowProCreditCardNumber}}"
                   userInput="{{creditCard.cardNumber}}"
                   stepKey="enterNumber"/>
        <selectOption selector="{{StorefrontOneStepCheckoutSection.PayflowExpirationDateMonth}}"
                      userInput="{{creditCard.expirationMonth}}" stepKey="selectMonth"/>
        <selectOption selector="{{StorefrontOneStepCheckoutSection.PayflowExpirationDateYear}}"
                      userInput="{{creditCard.expirationYear}}" stepKey="selectYear"/>
        <fillField selector="{{StorefrontOneStepCheckoutSection.PayflowCVC}}"
                   userInput="{{creditCard.cvc}}"
                   stepKey="enterCVCNumber"/>
        <click selector="{{StorefrontOneStepCheckoutSection.PlaceOrderAfterOrderTotal}}" stepKey="waitForPlaceOrderButton"/>
        <waitForPageLoad stepKey="waitForPageLoadAfterPlaceOrder"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoadAfterPlaceOrder"/>
        <waitForPageLoad stepKey="waitForPageLoadBeforeSuccessMessage"/>
        <seeElement selector="{{SuccessPageSection.SuccessMessage}}" stepKey="assertSuccessPage"/>
    </actionGroup>

    <actionGroup name="StorefrontOSCPlaceBelowOrderPayflowProGrabNumberGuest" extends="StorefrontOSCPlaceOrderBelowOrderWithPayflowPro">
        <waitForPageLoad stepKey="waitForPageLoadAfterAssertSuccessPage"/>
        <grabTextFrom selector="{{SuccessPageSection.OrderNumberAfterPlaceOrderGuest}}" stepKey="grabOrderNumber"/>
    </actionGroup>


    <actionGroup name="StorefrontOSCPlaceOrderBelowPaymentWithPayPalBraintree">
        <arguments>
            <argument name="customerCredentialsData"/>
        </arguments>
        <conditionalClick selector="//input[@value='{{paymentBraintreePayPal.paymentValue}}']"
                          dependentSelector="//div[contains(@class, 'active')]//input[@value='{{paymentBraintreePayPal.paymentValue}}']"
                          visible="false" stepKey="choosePaymentMethod" />
        <waitForPageLoad stepKey="waitForPageLoadChooseMethod"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoadChooseMethod"/>
        <scrollTo selector="//label[@for='{{paymentBraintreePayPal.paymentValue}}']" stepKey="scrollToPlaceOrder"/>
        <waitForPageLoad stepKey="waitForPageLoadAfterScrollToMethod"/>
        <conditionalClick selector="{{StorefrontOneStepCheckoutSection.BraintreePlaceOrderContinuePayPal}}"
                          dependentSelector="{{StorefrontOneStepCheckoutSection.NewBraintreePlaceOrderContinuePayPal}}"
                          visible="false" stepKey="clickPlaceIfOld"/>
        <conditionalClick selector="{{StorefrontOneStepCheckoutSection.NewBraintreePlaceOrderContinuePayPal}}"
                          dependentSelector="{{StorefrontOneStepCheckoutSection.BraintreePlaceOrderContinuePayPal}}"
                          visible="false" stepKey="clickPlaceIfNew"/>
        <waitForPageLoad stepKey="waitForPageLoadAfterContinuePayPal"/>
        <switchToNextTab stepKey="switchToInContentTab"/>
        <waitForPageLoad stepKey="waitForPageLoadPopUp"/>
        <conditionalClick selector="{{StorefrontOneStepCheckoutSection.PayPalPopupChangeEmail}}"
                          dependentSelector="{{StorefrontOneStepCheckoutSection.PayPalPopupChangeEmail}}"
                          visible="true" stepKey="clickToChangeEmail"/>
        <waitForPageLoad stepKey="waitForPageLoadAfterClickForChangeEmail"/>
        <waitForElement selector="{{StorefrontOneStepCheckoutSection.PayPalPopupEmail}}" stepKey="waitForLoginForm"/>
        <waitForPageLoad stepKey="waitForPageLoadEmail"/>
        <fillField selector="{{StorefrontOneStepCheckoutSection.PayPalPopupEmail}}"
                   userInput="{{customerCredentialsData.email}}" stepKey="enterEmail"/>
        <conditionalClick selector="{{StorefrontOneStepCheckoutSection.PayPalPopupButtonNext}}"
                          dependentSelector="{{StorefrontOneStepCheckoutSection.PayPalPopupButtonNext}}"
                          visible="true" stepKey="clickToNext"/>
        <waitForPageLoad stepKey="waitForPageLoadAfterClickNext"/>
        <waitForElement selector="{{StorefrontOneStepCheckoutSection.PayPalPopupPassword}}" stepKey="waitForPasswordForm"/>
        <waitForPageLoad stepKey="waitForPageLoadForFillPassword"/>
        <fillField selector="{{StorefrontOneStepCheckoutSection.PayPalPopupPassword}}"
                   userInput="{{customerCredentialsData.password}}" stepKey="enterPassword"/>
        <click selector="{{StorefrontOneStepCheckoutSection.PayPalPopupButtonLogin}}" stepKey="login"/>
        <waitForPageLoad stepKey="waitForLogin"/>
        <conditionalClick selector="{{StorefrontOneStepCheckoutSection.PayPalPopupCheckAgreePolitic}}"
                          dependentSelector="{{StorefrontOneStepCheckoutSection.PayPalPopupCheckAgreePolitic}}"
                          visible="true" stepKey="checkAgree"/>
        <conditionalClick selector="{{StorefrontOneStepCheckoutSection.PayPalPopupButtonAgree}}"
                          dependentSelector="{{StorefrontOneStepCheckoutSection.PayPalPopupButtonAgree}}"
                          visible="true" stepKey="clickButtonAgree"/>
        <waitForPageLoad stepKey="waitForAgree"/>
        <conditionalClick selector="//a[@id='notNowLink']"
                          dependentSelector="//a[@id='notNowLink']"
                          visible="true" stepKey="clickButtonDontNowTurnOnOneTouch"/>
        <waitForPageLoad stepKey="waitForClickNotNowTurn"/>
        <waitForElementVisible selector="{{StorefrontOneStepCheckoutSection.PayPalPopupButtonConfirm}}" stepKey="waitForVisiblePage"/>
        <click selector="{{StorefrontOneStepCheckoutSection.PayPalPopupButtonConfirm}}" stepKey="Confirm"/>
        <switchToPreviousTab stepKey="switchToPreviousTab"/>
        <waitForPageLoad stepKey="waitForPageAfterConfirm"/>
        <waitForAjaxLoad stepKey="waitForAjaxAfterConfirm"/>
        <waitForPageLoad stepKey="waitForPageClosePopUp"/>
        <wait time="3" stepKey="waitForConfirm"/>
        <click selector="{{StorefrontOneStepCheckoutSection.BraintreePlaceOrderPayPal}}" stepKey="clickPlace2"/>
        <waitForPageLoad stepKey="waitForPageLoadAfterPlaceOrder"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoadAfterPlaceOrder"/>
        <waitForPageLoad stepKey="waitForPageLoadBeforeSuccessMessage"/>
        <waitForElementVisible selector="{{SuccessPageSection.SuccessMessage}}" stepKey="waitForVisibleSuccessPage"/>
        <seeElement selector="{{SuccessPageSection.SuccessMessage}}" stepKey="assertSuccessPage"/>
    </actionGroup>

    <actionGroup name="StorefrontOSCPlaceOrderBelowPaymentWithPayPalBraintreeGrabNumber" extends="StorefrontOSCPlaceOrderBelowPaymentWithPayPalBraintree">
        <waitForPageLoad stepKey="waitForPageLoadAfterAssertSuccessPage"/>
        <grabTextFrom selector="{{SuccessPageSection.OrderNumberAfterPlaceOrder}}" stepKey="grabOrderNumber"/>
    </actionGroup>

    <actionGroup name="StorefrontOSCPlaceOrderBelowPaymentWithPayPalBraintreeGrabNumberGuest" extends="StorefrontOSCPlaceOrderBelowPaymentWithPayPalBraintree">
        <waitForPageLoad stepKey="waitForPageLoadAfterAssertSuccessPage"/>
        <grabTextFrom selector="{{SuccessPageSection.OrderNumberAfterPlaceOrderGuest}}" stepKey="grabOrderNumber"/>
    </actionGroup>


    <actionGroup name="StorefrontOSCPlaceOrderBelowOrderWithPayPalExpress">
        <arguments>
            <argument name="customerCredentialsData"/>
            <argument name="orderTotalForCheck"/>
        </arguments>
        <conditionalClick selector="//input[@value='{{paymentPaypalExpressCheckout.paymentValue}}']"
                          dependentSelector="//div[contains(@class, 'active')]//input[@value='{{paymentPaypalExpressCheckout.paymentValue}}']"
                          visible="false" stepKey="choosePaymentMethod" />
        <waitForPageLoad stepKey="waitForPageLoadChooseMethod"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoadChooseMethod"/>
        <scrollTo selector="{{StorefrontOneStepCheckoutSection.PlaceOrderAfterOrderTotal}}" stepKey="scrollToPlaceOrder"/>
        <waitForPageLoad stepKey="waitForPageLoadAfterScrollToMethod"/>
        <click selector="{{StorefrontOneStepCheckoutSection.PlaceOrderAfterOrderTotal}}" stepKey="clickPlace1"/>
        <waitForPageLoad stepKey="waitForPageLoadAfterContinuePayPal"/>
        <switchToNextTab stepKey="switchToInContentTab"/>
        <waitForPageLoad stepKey="waitForPageLoadPopUp"/>
        <waitForElement selector="{{StorefrontOneStepCheckoutSection.PayPalPopupEmail}}" stepKey="waitForLoginForm" />
        <fillField selector="{{StorefrontOneStepCheckoutSection.PayPalPopupEmail}}"
                   userInput="{{customerCredentialsData.email}}" stepKey="enterEmail"/>
        <conditionalClick selector="{{StorefrontOneStepCheckoutSection.PayPalPopupButtonNext}}"
                          dependentSelector="{{StorefrontOneStepCheckoutSection.PayPalPopupButtonNext}}"
                          visible="true" stepKey="clickToNext"/>
        <waitForElement selector="{{StorefrontOneStepCheckoutSection.PayPalPopupPassword}}" stepKey="waitForPasswordForm" />
        <fillField selector="{{StorefrontOneStepCheckoutSection.PayPalPopupPassword}}"
                   userInput="{{customerCredentialsData.password}}" stepKey="enterPassword"/>
        <click selector="{{StorefrontOneStepCheckoutSection.PayPalPopupButtonLogin}}" stepKey="login"/>
        <waitForPageLoad stepKey="waitForLogin"/>
        <conditionalClick selector="{{StorefrontOneStepCheckoutSection.PayPalPopupCheckAgreePolitic}}"
                          dependentSelector="{{StorefrontOneStepCheckoutSection.PayPalPopupCheckAgreePolitic}}"
                          visible="true" stepKey="checkAgree"/>
        <conditionalClick selector="{{StorefrontOneStepCheckoutSection.PayPalPopupButtonAgree}}"
                          dependentSelector="{{StorefrontOneStepCheckoutSection.PayPalPopupButtonAgree}}"
                          visible="true" stepKey="clickButtonAgree"/>
        <waitForPageLoad stepKey="waitForAgree"/>
        <conditionalClick selector="//a[@id='notNowLink']"
                          dependentSelector="//a[@id='notNowLink']"
                          visible="true" stepKey="clickButtonDontNowTurnOnOneTouch"/>
        <waitForPageLoad stepKey="waitForClickNotNowTurn"/>
        <waitForElementVisible selector="{{StorefrontOneStepCheckoutSection.PayPalPopupButtonConfirm}}" stepKey="waitForVisiblePage"/>
        <see selector="{{StorefrontOneStepCheckoutSection.PayPalPopupCartTotal}}"
             userInput="{{orderTotalForCheck}}"
             stepKey="seeOrderTotal"/>
        <click selector="{{StorefrontOneStepCheckoutSection.PayPalPopupButtonConfirm}}" stepKey="Confirm"/>
        <waitForPageLoad stepKey="waitForConfirmOperation"/>
        <switchToPreviousTab stepKey="switchToPreviousTab"/>
        <waitForPageLoad stepKey="waitForPageAfterConfirm"/>
        <waitForAjaxLoad stepKey="waitForAjaxAfterConfirm"/>
        <waitForPageLoad stepKey="waitForPageLoadBeforeSuccessMessage"/>
        <seeElement selector="{{SuccessPageSection.SuccessMessage}}" stepKey="assertSuccessPage"/>
    </actionGroup>

    <actionGroup name="StorefrontOSCPlaceBelowOrderPayPalExpressGrabNumber" extends="StorefrontOSCPlaceOrderBelowOrderWithPayPalExpress">
        <waitForPageLoad stepKey="waitForPageLoadAfterAssertSuccessPage"/>
        <grabTextFrom selector="{{SuccessPageSection.OrderNumberAfterPlaceOrder}}" stepKey="grabOrderNumber"/>
    </actionGroup>


    <actionGroup name="StorefrontOSCPlaceOrderBelowPaymentWithPayPalExpress">
        <arguments>
            <argument name="customerCredentialsData"/>
            <argument name="orderTotalForCheck"/>
        </arguments>
        <conditionalClick selector="//input[@value='{{paymentPaypalExpressCheckout.paymentValue}}']"
                          dependentSelector="//div[contains(@class, 'active')]//input[@value='{{paymentPaypalExpressCheckout.paymentValue}}']"
                          visible="false" stepKey="choosePaymentMethod" />
        <waitForPageLoad stepKey="waitForPageLoadChooseMethod"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoadChooseMethod"/>
        <scrollTo selector="{{StorefrontOneStepCheckoutSection.PlaceOrderAfterPayment}}" stepKey="scrollToPlaceOrder"/>
        <waitForPageLoad stepKey="waitForPageLoadAfterScrollToMethod"/>
        <click selector="{{StorefrontOneStepCheckoutSection.PlaceOrderAfterPayment}}" stepKey="clickPlace1"/>
        <waitForPageLoad stepKey="waitForPageLoadAfterContinuePayPal"/>
        <switchToNextTab stepKey="switchToInContentTab"/>
        <waitForPageLoad stepKey="waitForPageLoadPopUp"/>
        <waitForElement selector="{{StorefrontOneStepCheckoutSection.PayPalPopupEmail}}" stepKey="waitForLoginForm" />
        <fillField selector="{{StorefrontOneStepCheckoutSection.PayPalPopupEmail}}"
                   userInput="{{customerCredentialsData.email}}" stepKey="enterEmail"/>
        <conditionalClick selector="{{StorefrontOneStepCheckoutSection.PayPalPopupButtonNext}}"
                          dependentSelector="{{StorefrontOneStepCheckoutSection.PayPalPopupButtonNext}}"
                          visible="true" stepKey="clickToNext"/>
        <waitForElement selector="{{StorefrontOneStepCheckoutSection.PayPalPopupPassword}}" stepKey="waitForPasswordForm" />
        <fillField selector="{{StorefrontOneStepCheckoutSection.PayPalPopupPassword}}"
                   userInput="{{customerCredentialsData.password}}" stepKey="enterPassword"/>
        <click selector="{{StorefrontOneStepCheckoutSection.PayPalPopupButtonLogin}}" stepKey="login"/>
        <waitForPageLoad stepKey="waitForLogin"/>
        <conditionalClick selector="{{StorefrontOneStepCheckoutSection.PayPalPopupCheckAgreePolitic}}"
                          dependentSelector="{{StorefrontOneStepCheckoutSection.PayPalPopupCheckAgreePolitic}}"
                          visible="true" stepKey="checkAgree"/>
        <conditionalClick selector="{{StorefrontOneStepCheckoutSection.PayPalPopupButtonAgree}}"
                          dependentSelector="{{StorefrontOneStepCheckoutSection.PayPalPopupButtonAgree}}"
                          visible="true" stepKey="clickButtonAgree"/>
        <waitForPageLoad stepKey="waitForAgree"/>
        <conditionalClick selector="//a[@id='notNowLink']"
                          dependentSelector="//a[@id='notNowLink']"
                          visible="true" stepKey="clickButtonDontNowTurnOnOneTouch"/>
        <waitForPageLoad stepKey="waitForClickNotNowTurn"/>
        <waitForElementVisible selector="{{StorefrontOneStepCheckoutSection.PayPalPopupButtonConfirm}}" stepKey="waitForVisiblePage"/>
        <see selector="{{StorefrontOneStepCheckoutSection.PayPalPopupCartTotal}}"
             userInput="{{orderTotalForCheck}}"
             stepKey="seeOrderTotal"/>
        <click selector="{{StorefrontOneStepCheckoutSection.PayPalPopupButtonConfirm}}" stepKey="Confirm"/>
        <waitForPageLoad stepKey="waitForConfirmOperation"/>
        <switchToPreviousTab stepKey="switchToPreviousTab"/>
        <waitForPageLoad stepKey="waitForPageAfterConfirm"/>
        <waitForAjaxLoad stepKey="waitForAjaxAfterConfirm"/>
        <waitForPageLoad stepKey="waitForPageLoadBeforeSuccessMessage"/>
        <seeElement selector="{{SuccessPageSection.SuccessMessage}}" stepKey="assertSuccessPage"/>
    </actionGroup>

    <actionGroup name="StorefrontOSCPlaceBelowPaymentPayPalExpressGrabNumberGuest" extends="StorefrontOSCPlaceOrderBelowPaymentWithPayPalExpress">
        <waitForPageLoad stepKey="waitForPageLoadAfterAssertSuccessPage"/>
        <grabTextFrom selector="{{SuccessPageSection.OrderNumberAfterPlaceOrderGuest}}" stepKey="grabOrderNumber"/>
    </actionGroup>


    <actionGroup name="StorefrontOSCPlaceOrderBelowPaymentBraintree">
        <arguments>
            <argument name="creditCard"/>
        </arguments>
        <waitForPageLoad stepKey="waitForPageLoadOSC"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoadOSC"/>
        <waitForPageLoad stepKey="waitForPageLoadForBraintree"/>
        <conditionalClick selector="//input[@value='{{paymentBraintree.paymentValue}}']"
                          dependentSelector="//div[contains(@class, 'active')]//input[@value='{{paymentBraintree.paymentValue}}']"
                          visible="false" stepKey="choosePaymentMethod" />
        <waitForPageLoad stepKey="waitForPageForLoadPaymentMethods"/>
        <executeJS function="jQuery('#braintree-hosted-field-number').attr('id', 'IframeCreditNumber')" stepKey="getIframeCreditNumberId"/>
        <switchToIFrame userInput="IframeCreditNumber" stepKey="clickIframeCreditNumber"/>
        <waitForElementVisible selector="{{StorefrontOneStepCheckoutSection.BraintreeCreditCardNumber}}" stepKey="waitForBraintreeCreditCardNumber"/>
        <fillField selector="{{StorefrontOneStepCheckoutSection.BraintreeCreditCardNumber}}"
                   userInput="{{creditCard.cardNumber}}"
                   stepKey="enterNumber"/>
        <switchToIFrame stepKey="switchBack1"/>
        <executeJS function="jQuery('#braintree-hosted-field-expirationMonth').attr('id', 'IframeExpMonth')" stepKey="getIframeExpMonthId"/>
        <switchToIFrame userInput="IframeExpMonth" stepKey="clickIframeExpMonth"/>
        <waitForElementVisible selector="{{StorefrontOneStepCheckoutSection.BraintreeExpirationDateMonth}}" stepKey="waitForBraintreeExpirationDateMonth"/>
        <fillField selector="{{StorefrontOneStepCheckoutSection.BraintreeExpirationDateMonth}}"
                   userInput="{{creditCard.expirationMonth}}"
                   stepKey="enterMonth"/>
        <switchToIFrame stepKey="switchBack2"/>
        <executeJS function="jQuery('#braintree-hosted-field-expirationYear').attr('id', 'IframeExpYear')" stepKey="getIframeExpYearId"/>
        <switchToIFrame userInput="IframeExpYear" stepKey="clickIframeExpYear"/>
        <waitForElementVisible selector="{{StorefrontOneStepCheckoutSection.BraintreeExpirationDateYear}}" stepKey="waitForBraintreeExpirationDateYear"/>
        <fillField selector="{{StorefrontOneStepCheckoutSection.BraintreeExpirationDateYear}}"
                   userInput="{{creditCard.expirationYear}}"
                   stepKey="enterYear"/>
        <switchToIFrame stepKey="switchBack3"/>
        <executeJS function="jQuery('#braintree-hosted-field-cvv').attr('id', 'IframeCvv')" stepKey="getIframeIframeCvv"/>
        <switchToIFrame userInput="IframeCvv" stepKey="clickIframeCvv"/>
        <waitForElementVisible selector="{{StorefrontOneStepCheckoutSection.BraintreeCVC}}" stepKey="waitForBraintreeCVC"/>
        <fillField selector="{{StorefrontOneStepCheckoutSection.BraintreeCVC}}"
                   userInput="{{creditCard.cvc}}"
                   stepKey="enterCvc"/>
        <switchToIFrame stepKey="switchBack4"/>
        <waitForPageLoad stepKey="waitForLoadButton"/>
        <click selector="{{StorefrontOneStepCheckoutSection.PlaceOrderAfterPayment}}" stepKey="waitForPlaceOrderButton"/>
        <waitForPageLoad stepKey="waitForPageAfterConfirm"/>
        <waitForAjaxLoad stepKey="waitForAjaxAfterConfirm"/>
        <waitForPageLoad stepKey="waitForPageLoadBeforeSuccessMessage"/>
        <seeElement selector="{{SuccessPageSection.SuccessMessage}}" stepKey="assertSuccessPage"/>
    </actionGroup>

    <actionGroup name="StorefrontOSCPlaceOrderBelowPaymentBraintreeGrabNumberGuest" extends="StorefrontOSCPlaceOrderBelowPaymentBraintree">
        <waitForPageLoad stepKey="waitForPageLoadAfterAssertSuccessPage"/>
        <grabTextFrom selector="{{SuccessPageSection.OrderNumberAfterPlaceOrderGuest}}" stepKey="grabOrderNumber"/>
    </actionGroup>


    <actionGroup name="StorefrontOSCPlaceOrderBelowOrderBraintree">
        <arguments>
            <argument name="creditCard"/>
        </arguments>
        <waitForPageLoad stepKey="waitForPageLoadOSC"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoadOSC"/>
        <waitForPageLoad stepKey="waitForPageLoadForBraintree"/>
        <conditionalClick selector="//input[@value='{{paymentBraintree.paymentValue}}']"
                          dependentSelector="//div[contains(@class, 'active')]//input[@value='{{paymentBraintree.paymentValue}}']"
                          visible="false" stepKey="choosePaymentMethod" />
        <waitForPageLoad stepKey="waitForPageForLoadPaymentMethods"/>
        <executeJS function="jQuery('#braintree-hosted-field-number').attr('id', 'IframeCreditNumber')" stepKey="getIframeCreditNumberId"/>
        <switchToIFrame userInput="IframeCreditNumber" stepKey="clickIframeCreditNumber"/>
        <waitForElementVisible selector="{{StorefrontOneStepCheckoutSection.BraintreeCreditCardNumber}}" stepKey="waitForBraintreeCreditCardNumber"/>
        <fillField selector="{{StorefrontOneStepCheckoutSection.BraintreeCreditCardNumber}}"
                   userInput="{{creditCard.cardNumber}}"
                   stepKey="enterNumber"/>
        <switchToIFrame stepKey="switchBack1"/>
        <executeJS function="jQuery('#braintree-hosted-field-expirationMonth').attr('id', 'IframeExpMonth')" stepKey="getIframeExpMonthId"/>
        <switchToIFrame userInput="IframeExpMonth" stepKey="clickIframeExpMonth"/>
        <waitForElementVisible selector="{{StorefrontOneStepCheckoutSection.BraintreeExpirationDateMonth}}" stepKey="waitForBraintreeExpirationDateMonth"/>
        <fillField selector="{{StorefrontOneStepCheckoutSection.BraintreeExpirationDateMonth}}"
                   userInput="{{creditCard.expirationMonth}}"
                   stepKey="enterMonth"/>
        <switchToIFrame stepKey="switchBack2"/>
        <executeJS function="jQuery('#braintree-hosted-field-expirationYear').attr('id', 'IframeExpYear')" stepKey="getIframeExpYearId"/>
        <switchToIFrame userInput="IframeExpYear" stepKey="clickIframeExpYear"/>
        <waitForElementVisible selector="{{StorefrontOneStepCheckoutSection.BraintreeExpirationDateYear}}" stepKey="waitForBraintreeExpirationDateYear"/>
        <fillField selector="{{StorefrontOneStepCheckoutSection.BraintreeExpirationDateYear}}"
                   userInput="{{creditCard.expirationYear}}"
                   stepKey="enterYear"/>
        <switchToIFrame stepKey="switchBack3"/>
        <executeJS function="jQuery('#braintree-hosted-field-cvv').attr('id', 'IframeCvv')" stepKey="getIframeIframeCvv"/>
        <switchToIFrame userInput="IframeCvv" stepKey="clickIframeCvv"/>
        <waitForElementVisible selector="{{StorefrontOneStepCheckoutSection.BraintreeCVC}}" stepKey="waitForBraintreeCVC"/>
        <fillField selector="{{StorefrontOneStepCheckoutSection.BraintreeCVC}}"
                   userInput="{{creditCard.cvc}}"
                   stepKey="enterCvc"/>
        <switchToIFrame stepKey="switchBack4"/>
        <waitForPageLoad stepKey="waitForLoadButton"/>
        <click selector="{{StorefrontOneStepCheckoutSection.PlaceOrderAfterOrderTotal}}" stepKey="waitForPlaceOrderButton"/>
        <waitForPageLoad stepKey="waitForPageAfterConfirm"/>
        <waitForAjaxLoad stepKey="waitForAjaxAfterConfirm"/>
        <waitForPageLoad stepKey="waitForPageLoadBeforeSuccessMessage"/>
        <seeElement selector="{{SuccessPageSection.SuccessMessage}}" stepKey="assertSuccessPage"/>
    </actionGroup>

    <actionGroup name="StorefrontOSCPlaceOrderBelowOrderBraintreeGrabNumber" extends="StorefrontOSCPlaceOrderBelowOrderBraintree">
        <waitForPageLoad stepKey="waitForPageLoadAfterAssertSuccessPage"/>
        <grabTextFrom selector="{{SuccessPageSection.OrderNumberAfterPlaceOrder}}" stepKey="grabOrderNumber"/>
    </actionGroup>


    <actionGroup name="StorefrontOSCPlaceOrderBelowOrderWithEWay">
        <arguments>
            <argument name="creditCard"/>
        </arguments>
        <waitForPageLoad stepKey="waitForPageLoadOSC"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoadOSC"/>
        <conditionalClick selector="//input[@value='{{paymentEWay.paymentValue}}']"
                          dependentSelector="//div[contains(@class, 'active')]//input[@value='{{paymentEWay.paymentValue}}']"
                          visible="false" stepKey="choosePaymentMethod" />
        <waitForPageLoad stepKey="waitForPageLoadWithPayment"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoadWithPayment"/>
        <fillField selector="{{StorefrontOneStepCheckoutSection.EWayCreditCardNumber}}"
                   userInput="{{creditCard.cardNumber}}"
                   stepKey="enterNumber"/>
        <selectOption selector="{{StorefrontOneStepCheckoutSection.EWayExpirationDateMonth}}"
                      userInput="{{creditCard.expirationMonth}}" stepKey="selectMonth"/>
        <selectOption selector="{{StorefrontOneStepCheckoutSection.EWayExpirationDateYear}}"
                      userInput="{{creditCard.expirationYear}}" stepKey="selectYear"/>
        <fillField selector="{{StorefrontOneStepCheckoutSection.EWayCVC}}"
                   userInput="{{creditCard.cvc}}"
                   stepKey="enterCVCNumber"/>
        <click selector="{{StorefrontOneStepCheckoutSection.PlaceOrderAfterOrderTotal}}" stepKey="waitForPlaceOrderButton"/>
        <waitForPageLoad stepKey="waitForPageAfterConfirm"/>
        <waitForAjaxLoad stepKey="waitForAjaxAfterConfirm"/>
        <waitForPageLoad stepKey="waitForPageLoadBeforeSuccessMessage"/>
        <seeElement selector="{{SuccessPageSection.SuccessMessage}}" stepKey="assertSuccessPage"/>
    </actionGroup>

    <actionGroup name="StorefrontOSCPlaceOrderBelowOrderWithEWayGrabNumber" extends="StorefrontOSCPlaceOrderBelowOrderWithEWay">
        <waitForPageLoad stepKey="waitForPageLoadAfterAssertSuccessPage"/>
        <grabTextFrom selector="{{SuccessPageSection.OrderNumberAfterPlaceOrder}}" stepKey="grabOrderNumber"/>
    </actionGroup>


    <actionGroup name="StorefrontOSCPlaceOrderBelowPaymentWithEWay">
        <arguments>
            <argument name="creditCard"/>
        </arguments>
        <waitForPageLoad stepKey="waitForPageLoadOSC"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoadOSC"/>
        <conditionalClick selector="//input[@value='{{paymentEWay.paymentValue}}']"
                          dependentSelector="//div[contains(@class, 'active')]//input[@value='{{paymentEWay.paymentValue}}']"
                          visible="false" stepKey="choosePaymentMethod" />
        <waitForPageLoad stepKey="waitForPageLoadWithPayment"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoadWithPayment"/>
        <fillField selector="{{StorefrontOneStepCheckoutSection.EWayCreditCardNumber}}"
                   userInput="{{creditCard.cardNumber}}"
                   stepKey="enterNumber"/>
        <selectOption selector="{{StorefrontOneStepCheckoutSection.EWayExpirationDateMonth}}"
                      userInput="{{creditCard.expirationMonth}}" stepKey="selectMonth"/>
        <selectOption selector="{{StorefrontOneStepCheckoutSection.EWayExpirationDateYear}}"
                      userInput="{{creditCard.expirationYear}}" stepKey="selectYear"/>
        <fillField selector="{{StorefrontOneStepCheckoutSection.EWayCVC}}"
                   userInput="{{creditCard.cvc}}"
                   stepKey="enterCVCNumber"/>
        <click selector="{{StorefrontOneStepCheckoutSection.PlaceOrderAfterPayment}}" stepKey="waitForPlaceOrderButton"/>
        <waitForPageLoad stepKey="waitForPageAfterConfirm"/>
        <waitForAjaxLoad stepKey="waitForAjaxAfterConfirm"/>
        <waitForPageLoad stepKey="waitForPageLoadBeforeSuccessMessage"/>
        <seeElement selector="{{SuccessPageSection.SuccessMessage}}" stepKey="assertSuccessPage"/>
    </actionGroup>

    <actionGroup name="StorefrontOSCPlaceOrderBelowPaymentWithEWayGrabNumberGuest" extends="StorefrontOSCPlaceOrderBelowPaymentWithEWay">
        <waitForPageLoad stepKey="waitForPageLoadAfterAssertSuccessPage"/>
        <grabTextFrom selector="{{SuccessPageSection.OrderNumberAfterPlaceOrderGuest}}" stepKey="grabOrderNumber"/>
    </actionGroup>


    <actionGroup name="StorefrontOSCPlaceOrderBelowOrderWithKlarna">
        <waitForPageLoad stepKey="waitForPageLoadOSC"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoadOSC"/>
        <conditionalClick selector="//input[@value='klarna_pay_later']"
                          dependentSelector="//div[contains(@class, 'active')]//input[@value='klarna_pay_later']"
                          visible="false" stepKey="choosePaymentMethod"/>
        <waitForPageLoad stepKey="waitForPageForLoadPaymentMethods"/>
        <wait time="4" stepKey="waitForLoadButtonPlaceOrder"/>
        <click selector="{{StorefrontOneStepCheckoutSection.PlaceOrderAfterOrderTotal}}" stepKey="waitForPlaceOrderButton"/>
        <waitForPageLoad stepKey="waitForPageAfterConfirm"/>
        <waitForAjaxLoad stepKey="waitForAjaxAfterConfirm"/>
        <waitForPageLoad stepKey="waitForPageLoadBeforeSuccessMessage"/>
        <seeElement selector="{{SuccessPageSection.SuccessMessage}}" stepKey="assertSuccessPage"/>
    </actionGroup>

    <actionGroup name="StorefrontOSCPlaceOrderBelowOrderWithKlarnaGrabNumberGuest" extends="StorefrontOSCPlaceOrderBelowOrderWithKlarna">
        <waitForPageLoad stepKey="waitForPageLoadAfterAssertSuccessPage"/>
        <grabTextFrom selector="{{SuccessPageSection.OrderNumberAfterPlaceOrderGuest}}" stepKey="grabOrderNumber"/>
    </actionGroup>


    <actionGroup name="StorefrontOSCPlaceOrderBelowPaymentWithKlarna">
        <waitForPageLoad stepKey="waitForPageLoadOSC"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoadOSC"/>
        <conditionalClick selector="//input[@value='klarna_pay_later']"
                          dependentSelector="//div[contains(@class, 'active')]//input[@value='klarna_pay_later']"
                          visible="false" stepKey="choosePaymentMethod"/>
        <waitForPageLoad stepKey="waitForPageForLoadPaymentMethods"/>
        <wait time="4" stepKey="waitForLoadButtonPlaceOrder"/>
        <click selector="{{StorefrontOneStepCheckoutSection.PlaceOrderAfterPayment}}" stepKey="waitForPlaceOrderButton"/>
        <waitForPageLoad stepKey="waitForPageAfterConfirm"/>
        <waitForAjaxLoad stepKey="waitForAjaxAfterConfirm"/>
        <waitForPageLoad stepKey="waitForPageLoadBeforeSuccessMessage"/>
        <seeElement selector="{{SuccessPageSection.SuccessMessage}}" stepKey="assertSuccessPage"/>
    </actionGroup>

    <actionGroup name="StorefrontOSCPlaceOrderBelowPaymentWithKlarnaGrabNumber" extends="StorefrontOSCPlaceOrderBelowPaymentWithKlarna">
        <waitForPageLoad stepKey="waitForPageLoadAfterAssertSuccessPage"/>
        <grabTextFrom selector="{{SuccessPageSection.OrderNumberAfterPlaceOrder}}" stepKey="grabOrderNumber"/>
    </actionGroup>


    <actionGroup name="StorefrontOSCPlaceOrderBelowOrderWithStripe">
        <arguments>
            <argument name="creditCard"/>
        </arguments>
        <waitForPageLoad stepKey="waitForPageLoadOSC"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoadOSC"/>
        <conditionalClick selector="//input[@value='amasty_stripe']"
                          dependentSelector="//div[contains(@class, 'active')]//input[@value='amasty_stripe']"
                          visible="false" stepKey="choosePaymentMethod"/>
        <waitForPageLoad stepKey="waitForPageForLoadPaymentMethods"/>
        <executeJS function="jQuery('iframe').attr('id', 'IframeStripe')" stepKey="getIframeCreditNumberId"/>
        <switchToIFrame userInput="IframeStripe" stepKey="clickIframeStripe"/>
        <waitForElementVisible selector="{{StorefrontOneStepCheckoutSection.StripeCreditCardNumber}}" stepKey="waitForStripeCreditCardNumber"/>
        <fillField selector="{{StorefrontOneStepCheckoutSection.StripeCreditCardNumber}}"
                   userInput="{{creditCard.cardNumber}}"
                   stepKey="enterNumber"/>
        <fillField selector="{{StorefrontOneStepCheckoutSection.StripeExpirationDate}}"
                   userInput="{{creditCard.expirationDate}}" stepKey="selectDate"/>
        <fillField selector="{{StorefrontOneStepCheckoutSection.StripeCVC}}"
                   userInput="{{creditCard.cvc}}"
                   stepKey="enterCVCNumber"/>
        <switchToIFrame stepKey="switchBack2"/>
        <click selector="{{StorefrontOneStepCheckoutSection.PlaceOrderAfterOrderTotal}}" stepKey="waitForPlaceOrderButton"/>
        <waitForPageLoad stepKey="waitForPageAfterConfirm"/>
        <waitForAjaxLoad stepKey="waitForAjaxAfterConfirm"/>
        <waitForPageLoad stepKey="waitForPageLoadBeforeSuccessMessage"/>
        <seeElement selector="{{SuccessPageSection.SuccessMessage}}" stepKey="assertSuccessPage"/>
    </actionGroup>

    <actionGroup name="StorefrontOSCPlaceOrderBelowOrderWithStripeGrabNumber" extends="StorefrontOSCPlaceOrderBelowOrderWithStripe">
        <waitForPageLoad stepKey="waitForPageLoadAfterAssertSuccessPage"/>
        <grabTextFrom selector="{{SuccessPageSection.OrderNumberAfterPlaceOrder}}" stepKey="grabOrderNumber"/>
    </actionGroup>


    <actionGroup name="StorefrontOSCPlaceOrderBelowPaymentWithStripe">
        <arguments>
            <argument name="creditCard"/>
        </arguments>
        <waitForPageLoad stepKey="waitForPageLoadOSC"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoadOSC"/>
        <conditionalClick selector="//input[@value='amasty_stripe']"
                          dependentSelector="//div[contains(@class, 'active')]//input[@value='amasty_stripe']"
                          visible="false" stepKey="choosePaymentMethod"/>
        <waitForPageLoad stepKey="waitForPageForLoadPaymentMethods"/>
        <executeJS function="jQuery('iframe').attr('id', 'IframeStripe')" stepKey="getIframeCreditNumberId"/>
        <switchToIFrame userInput="IframeStripe" stepKey="clickIframeStripe"/>
        <waitForElementVisible selector="{{StorefrontOneStepCheckoutSection.StripeCreditCardNumber}}" stepKey="waitForStripeCreditCardNumber"/>
        <fillField selector="{{StorefrontOneStepCheckoutSection.StripeCreditCardNumber}}"
                   userInput="{{creditCard.cardNumber}}"
                   stepKey="enterNumber"/>
        <fillField selector="{{StorefrontOneStepCheckoutSection.StripeExpirationDate}}"
                   userInput="{{creditCard.expirationDate}}" stepKey="selectDate"/>
        <fillField selector="{{StorefrontOneStepCheckoutSection.StripeCVC}}"
                   userInput="{{creditCard.cvc}}"
                   stepKey="enterCVCNumber"/>
        <switchToIFrame stepKey="switchBack2"/>
        <click selector="{{StorefrontOneStepCheckoutSection.PlaceOrderAfterPayment}}" stepKey="waitForPlaceOrderButton"/>
        <waitForPageLoad stepKey="waitForPageAfterConfirm"/>
        <waitForAjaxLoad stepKey="waitForAjaxAfterConfirm"/>
        <waitForPageLoad stepKey="waitForPageLoadBeforeSuccessMessage"/>
        <seeElement selector="{{SuccessPageSection.SuccessMessage}}" stepKey="assertSuccessPage"/>
    </actionGroup>

    <actionGroup name="StorefrontOSCPlaceOrderBelowPaymentWithStripeGrabNumberGuest" extends="StorefrontOSCPlaceOrderBelowPaymentWithStripe">
        <waitForPageLoad stepKey="waitForPageLoadAfterAssertSuccessPage"/>
        <grabTextFrom selector="{{SuccessPageSection.OrderNumberAfterPlaceOrderGuest}}" stepKey="grabOrderNumber"/>
    </actionGroup>


    <actionGroup name="StorefrontOSCPlaceOrderBelowOrderWithCashOnDelivery">
        <waitForPageLoad stepKey="waitForPageLoadOSC"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoadOSC"/>
        <conditionalClick selector="//input[@value='{{paymentCashOnDeliveryPayment.paymentValue}}']"
                          dependentSelector="//div[contains(@class, 'active')]//input[@value='{{paymentCashOnDeliveryPayment.paymentValue}}']"
                          visible="false" stepKey="choosePaymentMethod" />
        <waitForPageLoad stepKey="waitForPageLoadWithPayment"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoadWithPayment"/>
        <click selector="{{StorefrontOneStepCheckoutSection.PlaceOrderAfterOrderTotal}}" stepKey="waitForPlaceOrderButton"/>
        <waitForPageLoad stepKey="waitForPageAfterConfirm"/>
        <waitForAjaxLoad stepKey="waitForAjaxAfterConfirm"/>
        <waitForPageLoad stepKey="waitForPageLoadBeforeSuccessMessage"/>
        <seeElement selector="{{SuccessPageSection.SuccessMessage}}" stepKey="assertSuccessPage"/>
    </actionGroup>

    <actionGroup name="StorefrontOSCPlaceOrderBelowOrderWithCashOnDeliveryGrabNumber" extends="StorefrontOSCPlaceOrderBelowOrderWithCashOnDelivery">
        <waitForPageLoad stepKey="waitForPageLoadAfterAssertSuccessPage"/>
        <grabTextFrom selector="{{SuccessPageSection.OrderNumberAfterPlaceOrder}}" stepKey="grabOrderNumber"/>
    </actionGroup>


    <actionGroup name="StorefrontOSCPlaceOrderBelowPaymentWithCashOnDelivery">
        <waitForPageLoad stepKey="waitForPageLoadOSC"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoadOSC"/>
        <conditionalClick selector="//input[@value='{{paymentCashOnDeliveryPayment.paymentValue}}']"
                          dependentSelector="//div[contains(@class, 'active')]//input[@value='{{paymentCashOnDeliveryPayment.paymentValue}}']"
                          visible="false" stepKey="choosePaymentMethod" />
        <waitForPageLoad stepKey="waitForPageLoadWithPayment"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoadWithPayment"/>
        <click selector="{{StorefrontOneStepCheckoutSection.PlaceOrderAfterPayment}}" stepKey="waitForPlaceOrderButton"/>
        <waitForPageLoad stepKey="waitForPageAfterConfirm"/>
        <waitForAjaxLoad stepKey="waitForAjaxAfterConfirm"/>
        <waitForPageLoad stepKey="waitForPageLoadBeforeSuccessMessage"/>
        <seeElement selector="{{SuccessPageSection.SuccessMessage}}" stepKey="assertSuccessPage"/>
    </actionGroup>

    <actionGroup name="StorefrontOSCPlaceOrderBelowPaymentWithCashOnDeliveryGrabNumberGuest" extends="StorefrontOSCPlaceOrderBelowPaymentWithCashOnDelivery">
        <waitForPageLoad stepKey="waitForPageLoadAfterAssertSuccessPage"/>
        <grabTextFrom selector="{{SuccessPageSection.OrderNumberAfterPlaceOrderGuest}}" stepKey="grabOrderNumber"/>
    </actionGroup>


    <actionGroup name="StorefrontOSCPlaceOrderBelowOrderWithBankTransfer">
        <waitForPageLoad stepKey="waitForPageLoadOSC"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoadOSC"/>
        <conditionalClick selector="//input[@value='{{paymentBankTransferPayment.paymentValue}}']"
                          dependentSelector="//div[contains(@class, 'active')]//input[@value='{{paymentBankTransferPayment.paymentValue}}']"
                          visible="false" stepKey="choosePaymentMethod" />
        <waitForPageLoad stepKey="waitForPageLoadWithPayment"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoadWithPayment"/>
        <click selector="{{StorefrontOneStepCheckoutSection.PlaceOrderAfterOrderTotal}}" stepKey="waitForPlaceOrderButton"/>
        <waitForPageLoad stepKey="waitForPageAfterConfirm"/>
        <waitForAjaxLoad stepKey="waitForAjaxAfterConfirm"/>
        <waitForPageLoad stepKey="waitForPageLoadBeforeSuccessMessage"/>
        <seeElement selector="{{SuccessPageSection.SuccessMessage}}" stepKey="assertSuccessPage"/>
    </actionGroup>

    <actionGroup name="StorefrontOSCPlaceOrderBelowOrderWithBankTransferGrabNumber" extends="StorefrontOSCPlaceOrderBelowOrderWithBankTransfer">
        <waitForPageLoad stepKey="waitForPageLoadAfterAssertSuccessPage"/>
        <grabTextFrom selector="{{SuccessPageSection.OrderNumberAfterPlaceOrder}}" stepKey="grabOrderNumber"/>
    </actionGroup>


    <actionGroup name="StorefrontOSCPlaceOrderBelowPaymentWithBankTransfer">
        <waitForPageLoad stepKey="waitForPageLoadOSC"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoadOSC"/>
        <conditionalClick selector="//input[@value='{{paymentBankTransferPayment.paymentValue}}']"
                          dependentSelector="//div[contains(@class, 'active')]//input[@value='{{paymentBankTransferPayment.paymentValue}}']"
                          visible="false" stepKey="choosePaymentMethod" />
        <waitForPageLoad stepKey="waitForPageLoadWithPayment"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoadWithPayment"/>
        <click selector="{{StorefrontOneStepCheckoutSection.PlaceOrderAfterPayment}}" stepKey="waitForPlaceOrderButton"/>
        <waitForPageLoad stepKey="waitForPageAfterConfirm"/>
        <waitForAjaxLoad stepKey="waitForAjaxAfterConfirm"/>
        <waitForPageLoad stepKey="waitForPageLoadBeforeSuccessMessage"/>
        <seeElement selector="{{SuccessPageSection.SuccessMessage}}" stepKey="assertSuccessPage"/>
    </actionGroup>

    <actionGroup name="StorefrontOSCPlaceOrderBelowPaymentWithBankTransferGrabNumberGuest" extends="StorefrontOSCPlaceOrderBelowPaymentWithBankTransfer">
        <waitForPageLoad stepKey="waitForPageLoadAfterAssertSuccessPage"/>
        <grabTextFrom selector="{{SuccessPageSection.OrderNumberAfterPlaceOrderGuest}}" stepKey="grabOrderNumber"/>
    </actionGroup>


    <actionGroup name="StorefrontOSCPlaceOrderBelowOrderWithPurchaseOrder">
        <arguments>
            <argument name="purchaseOrderNumber"/>
        </arguments>
        <waitForPageLoad stepKey="waitForPageLoadOSC"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoadOSC"/>
        <conditionalClick selector="//input[@value='{{paymentPurchaseOrder.paymentValue}}']"
                          dependentSelector="//div[contains(@class, 'active')]//input[@value='{{paymentPurchaseOrder.paymentValue}}']"
                          visible="false" stepKey="choosePaymentMethod" />
        <waitForPageLoad stepKey="waitForPageLoadWithPayment"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoadWithPayment"/>
        <fillField selector="{{StorefrontOneStepCheckoutSection.PurchaseOrderNumber}}" userInput="{{purchaseOrderNumber}}"
                   stepKey="enterNumber"/>
        <waitForPageLoad stepKey="waitForPageLoadAfterEnterNumber"/>
        <click selector="{{StorefrontOneStepCheckoutSection.PlaceOrderAfterOrderTotal}}" stepKey="waitForPlaceOrderButton"/>
        <waitForPageLoad stepKey="waitForPageAfterConfirm"/>
        <waitForAjaxLoad stepKey="waitForAjaxAfterConfirm"/>
        <waitForPageLoad stepKey="waitForPageLoadBeforeSuccessMessage"/>
        <seeElement selector="{{SuccessPageSection.SuccessMessage}}" stepKey="assertSuccessPage"/>
    </actionGroup>

    <actionGroup name="StorefrontOSCPlaceOrderBelowOrderWithPurchaseOrderGrabNumberGuest" extends="StorefrontOSCPlaceOrderBelowOrderWithPurchaseOrder">
        <waitForPageLoad stepKey="waitForPageLoadAfterAssertSuccessPage"/>
        <grabTextFrom selector="{{SuccessPageSection.OrderNumberAfterPlaceOrderGuest}}" stepKey="grabOrderNumber"/>
    </actionGroup>


    <actionGroup name="StorefrontOSCPlaceOrderBelowPaymentWithPurchaseOrder">
        <arguments>
            <argument name="purchaseOrderNumber"/>
        </arguments>
        <waitForPageLoad stepKey="waitForPageLoadOSC"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoadOSC"/>
        <conditionalClick selector="//input[@value='{{paymentPurchaseOrder.paymentValue}}']"
                          dependentSelector="//div[contains(@class, 'active')]//input[@value='{{paymentPurchaseOrder.paymentValue}}']"
                          visible="false" stepKey="choosePaymentMethod" />
        <waitForPageLoad stepKey="waitForPageLoadWithPayment"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoadWithPayment"/>
        <fillField selector="{{StorefrontOneStepCheckoutSection.PurchaseOrderNumber}}" userInput="{{purchaseOrderNumber}}"
                   stepKey="enterNumber"/>
        <waitForPageLoad stepKey="waitForPageLoadAfterEnterNumber"/>
        <click selector="{{StorefrontOneStepCheckoutSection.PlaceOrderAfterPayment}}" stepKey="waitForPlaceOrderButton"/>
        <waitForPageLoad stepKey="waitForPageAfterConfirm"/>
        <waitForAjaxLoad stepKey="waitForAjaxAfterConfirm"/>
        <waitForPageLoad stepKey="waitForPageLoadBeforeSuccessMessage"/>
        <seeElement selector="{{SuccessPageSection.SuccessMessage}}" stepKey="assertSuccessPage"/>
    </actionGroup>

    <actionGroup name="StorefrontOSCPlaceOrderBelowPaymentWithPurchaseOrderGrabNumber" extends="StorefrontOSCPlaceOrderBelowPaymentWithPurchaseOrder">
        <waitForPageLoad stepKey="waitForPageLoadAfterAssertSuccessPage"/>
        <grabTextFrom selector="{{SuccessPageSection.OrderNumberAfterPlaceOrder}}" stepKey="grabOrderNumber"/>
    </actionGroup>


    <actionGroup name="StorefrontOSCChooseDeliveryDateAndComment">
        <arguments>
            <argument name="deliveryDate"/>
        </arguments>
        <scrollTo selector="{{StorefrontOneStepCheckoutSection.Delivery}}" stepKey="ScrollToDelivery"/>
        <click selector="{{StorefrontOneStepCheckoutSection.DatePicker}}" stepKey="clickDatePicker"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoad1"/>
        <click selector="{{StorefrontOneStepCheckoutSection.DeliveryToday}}" stepKey="clickDeliveryToday"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoad2"/>
        <selectOption selector="{{StorefrontOneStepCheckoutSection.DeliveryTimeInterval}}"
                      userInput="{{deliveryDate.deliveryTimeInterval}}"
                      stepKey="selectDeliveryTimeInterval"/>
        <fillField selector="{{StorefrontOneStepCheckoutSection.DeliveryComment}}" userInput="{{deliveryDate.deliveryComment}}"
                   stepKey="enterDeliveryComment"/>
    </actionGroup>


    <actionGroup name="StorefrontOSCPlaceOrderBelowOrderWithCheckMoney">
        <waitForPageLoad stepKey="waitForPageLoadBeforeChoosePayment"/>
        <conditionalClick selector="//input[@value='{{paymentCheckMoneyOrder.paymentValue}}']"
                          dependentSelector="//div[contains(@class, 'active')]//label[@for='{{paymentCheckMoneyOrder.paymentValue}}']"
                          visible="false" stepKey="choosePaymentMethod" />
        <waitForPageLoad stepKey="waitForPageLoadWithPayment"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoadWithPayment"/>
        <click selector="{{StorefrontOneStepCheckoutSection.PlaceOrderAfterOrderTotal}}" stepKey="clickToPlaceOrderButton"/>
        <waitForPageLoad stepKey="waitForPageLoadAfterPlaceOrder"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoadAfterPlaceOrder"/>
        <waitForPageLoad stepKey="waitForPageLoadBeforeCheckSuccess"/>
        <waitForElementVisible selector="{{SuccessPageSection.SuccessMessage}}" stepKey="assertSuccessPage"/>
    </actionGroup>

    <actionGroup name="StorefrontOSCPlaceBelowOrderCheckMoneyGrabNumber" extends="StorefrontOSCPlaceOrderBelowOrderWithCheckMoney">
        <waitForPageLoad stepKey="waitForPageLoadAfterAssertSuccessPage"/>
        <grabTextFrom selector="{{SuccessPageSection.OrderNumberAfterPlaceOrder}}" stepKey="grabOrderNumber"/>
    </actionGroup>

    <actionGroup name="StorefrontOSCPlaceBelowOrderCheckMoneyGrabNumberGuest" extends="StorefrontOSCPlaceOrderBelowOrderWithCheckMoney">
        <waitForPageLoad stepKey="waitForPageLoadAfterAssertSuccessPage"/>
        <grabTextFrom selector="{{SuccessPageSection.OrderNumberAfterPlaceOrderGuest}}" stepKey="grabOrderNumber"/>
    </actionGroup>


    <actionGroup name="StorefrontOSCFillGiftMessageForOrder" extends="StorefrontOSCCheckGiftMessageBase">
        <arguments>
            <argument name="OSCGiftMessageOrderData"/>
        </arguments>
        <waitForPageLoad stepKey="waitForLoadPopUp"/>
        <fillField selector="{{StorefrontOneStepCheckoutSection.GiftMessageOrderTo}}"
                   userInput="{{OSCGiftMessageOrderData.messageTo}}" stepKey="enterMessageTo"/>
        <fillField selector="{{StorefrontOneStepCheckoutSection.GiftMessageOrderFrom}}"
                   userInput="{{OSCGiftMessageOrderData.messageFrom}}" stepKey="enterMessageFrom"/>
        <fillField selector="{{StorefrontOneStepCheckoutSection.GiftMessageOrderMessage}}"
                   userInput="{{OSCGiftMessageOrderData.messageMessage}}" stepKey="enterMessage"/>
        <click selector="{{StorefrontOneStepCheckoutSection.GiftMessageUpdate}}"
               stepKey="updateMessage"/>
        <waitForPageLoad stepKey="waitForLoadPageAfterClosePopUp"/>
        <waitForAjaxLoad stepKey="waitForAjaxAfterClosePopUp"/>
        <waitForElementVisible selector="{{StorefrontOneStepCheckoutSection.GiftMessageSuccessMsg}}" stepKey="checkUpdateMessage"/>
    </actionGroup>

    <actionGroup name="StorefrontOSCFillGiftMessageForItem" extends="StorefrontOSCCheckGiftMessageBase">
        <arguments>
            <argument name="OSCGiftMessageForItemData"/>
            <argument name="product"/>
        </arguments>
        <waitForPageLoad stepKey="waitForLoadPopUp"/>
        <fillField selector="{{StorefrontOneStepCheckoutSection.GiftMessageForItemTo(product.name)}}"
                   userInput="{{OSCGiftMessageForItemData.messageTo}}" stepKey="enterMessageTo"/>
        <fillField selector="{{StorefrontOneStepCheckoutSection.GiftMessageForItemFrom(product.name)}}"
                   userInput="{{OSCGiftMessageForItemData.messageFrom}}" stepKey="enterMessageFrom"/>
        <fillField selector="{{StorefrontOneStepCheckoutSection.GiftMessageForItemInput(product.name)}}"
                   userInput="{{OSCGiftMessageForItemData.messageMessage}}" stepKey="enterMessage"/>
        <click selector="{{StorefrontOneStepCheckoutSection.GiftMessageUpdate}}"
               stepKey="updateMessage"/>
        <waitForPageLoad stepKey="waitForLoadPageAfterClosePopUp"/>
        <waitForAjaxLoad stepKey="waitForAjaxAfterClosePopUp"/>
        <waitForElementVisible selector="{{StorefrontOneStepCheckoutSection.GiftMessageSuccessMsg}}" stepKey="checkUpdateMessage"/>
    </actionGroup>

    <actionGroup name="StorefrontOSCAddGiftWrapAndCheckAddInTotals">
        <arguments>
            <argument name="giftWrapFee"/>
        </arguments>
        <waitForPageLoad stepKey="waitForPageLoadBeforeCheck"/>
        <checkOption selector="{{StorefrontOneStepCheckoutSection.GiftWrapCheckbox}}"
                     stepKey="addGiftWrap"/>
        <waitForPageLoad stepKey="waitForLoadPopUp"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoadPopUp"/>
        <waitForElementNotVisible selector="{{StorefrontOneStepCheckoutSection.OrderTotalsLoader}}" stepKey="waitForLooadTotals"/>
        <see selector="{{StorefrontOneStepCheckoutSection.GiftWrapInTotals}}"
             userInput="{{giftWrapFee}}"
             stepKey="checkValueGiftWrap"/>
    </actionGroup>


    <actionGroup name="StorefrontOSCChangeQtyProduct">
        <arguments>
            <argument name="product"/>
            <argument name="valueQty"/>
        </arguments>
        <waitForPageLoad stepKey="waitForPopUp"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoadPopUp"/>
        <waitForElementNotVisible selector="{{StorefrontOneStepCheckoutSection.OrderTotalsLoader}}" stepKey="waitForLoadTotals"/>
        <fillField selector="{{StorefrontOneStepCheckoutSection.EditQtyProductInput(product.name)}}"
                   userInput="{{valueQty.qty}}" stepKey="enterNewQty"/>
        <click selector="{{StorefrontOneStepCheckoutSection.EditQtyProductButton(product.name)}}"
               stepKey="UpdateQty"/>
        <waitForPageLoad stepKey="waitForPageLoadCheckout"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoadCheckout"/>
    </actionGroup>

    <actionGroup name="StorefrontOSCChangeCustomOptionsProduct">
        <arguments>
            <argument name="product"/>
            <argument name="optionValue"/>
        </arguments>
        <waitForPageLoad stepKey="waitForPopUp"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoadPopUp"/>
        <waitForElementNotVisible selector="{{StorefrontOneStepCheckoutSection.OrderTotalsLoader}}"
                                  stepKey="waitForLoadTotals"/>
        <click selector="{{StorefrontOneStepCheckoutSection.EditCustomProductOptionTab(product.name)}}"
               stepKey="openCustomOtionsTab"/>
        <click selector="//strong[contains(string(), '{{product.name}}')]/ancestor::form//option[contains(string(), '{{optionValue}}')]"
               stepKey="selectSize"/>
        <click selector="{{StorefrontOneStepCheckoutSection.EditCustomProductOptionUpdate(product.name)}}"
               stepKey="UpdateOptions"/>
        <waitForPageLoad stepKey="waitForPageLoadCheckout"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoadCheckout"/>
    </actionGroup>


    <actionGroup name="StorefrontOSCAddCommentForOrder">
        <arguments>
            <argument name="comment"/>
        </arguments>
        <waitForPageLoad stepKey="waitForPageLoadComment"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoadComment"/>
        <fillField selector="{{StorefrontOneStepCheckoutSection.OrderComment}}" userInput="{{comment}}"
               stepKey="FillOrderComment"/>
    </actionGroup>


    <actionGroup name="StorefrontOSCAddNewShippingAddressAsCustomer">
        <arguments>
            <argument name="newShippingAddress"/>
        </arguments>
        <waitForPageLoad stepKey="waitForPageLoadOSC"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoadOSC"/>
        <click selector="{{StorefrontOneStepCheckoutSection.AddNewShippingAddressButton}}"
               stepKey="clickToAddNewAddress"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoadAfterClickAddNewAddress"/>
        <fillField selector="{{StorefrontOneStepCheckoutSection.AddNewShippingFirstName}}"
                   userInput="{{newShippingAddress.firstname}}" stepKey="enterFirstName"/>
        <fillField selector="{{StorefrontOneStepCheckoutSection.AddNewShippingLastName}}"
                   userInput="{{newShippingAddress.lastname}}" stepKey="enterLastName"/>
        <fillField selector="{{StorefrontOneStepCheckoutSection.AddNewShippingStreet}}"
                   userInput="{{newShippingAddress.street}}" stepKey="enterStreet"/>
        <fillField selector="{{StorefrontOneStepCheckoutSection.AddNewShippingCity}}"
                   userInput="{{newShippingAddress.city}}" stepKey="enterCity"/>
        <selectOption selector="{{StorefrontOneStepCheckoutSection.AddNewShippingCountry}}"
                      userInput="{{newShippingAddress.country}}" stepKey="selectCountry"/>
        <fillField selector="{{StorefrontOneStepCheckoutSection.AddNewShippingPostcode}}"
                   userInput="{{newShippingAddress.postcode}}" stepKey="enterPostcode"/>
        <selectOption selector="{{StorefrontOneStepCheckoutSection.AddNewShippingRegion}}"
                      userInput="{{newShippingAddress.region}}" stepKey="selectRegion"/>
        <fillField selector="{{StorefrontOneStepCheckoutSection.AddNewShippingTelephone}}"
                   userInput="{{newShippingAddress.telephone}}" stepKey="enterTelephone"/>
        <uncheckOption selector="{{StorefrontOneStepCheckoutSection.AddNewShippingSaveInBook}}"
                       stepKey="uncheckSaveAddressInBook"/>
        <click selector="{{StorefrontOneStepCheckoutSection.AddNewShippingShipHere}}"
               stepKey="clickToShipHere"/>
        <waitForPageLoad stepKey="waitForPageLoadAfterAddNewAddress"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoadAfterAddNewAddress"/>
    </actionGroup>

    <actionGroup name="StorefrontOSCEditBillingAddressAsCustomer">
        <arguments>
            <argument name="newBillingAddress"/>
            <argument name="paymentMethods"/>
        </arguments>
        <waitForPageLoad stepKey="waitForPageLoadOSC"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoadOSC"/>
        <conditionalClick selector="//input[@value='{{paymentMethods.paymentValue}}']"
                          dependentSelector="//div[contains(@class, 'active')]//label[@for='{{paymentMethods.paymentValue}}']"
                          visible="false" stepKey="choosePaymentMethod"/>
        <waitForPageLoad stepKey="waitForPageLoadAfterChoosePaymentMethod"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoadAfterChoosePaymentMethod"/>
        <uncheckOption selector="{{StorefrontOneStepCheckoutSection.BillingAsShippingCheckbox}}"
                       stepKey="uncheckBillingAsShipping"/>
        <waitForElementVisible selector="{{StorefrontOneStepCheckoutSection.BillingAsShippingCheckbox}}"
                               stepKey="waitForSelect"/>
        <click selector="{{StorefrontOneStepCheckoutSection.SelectBillingOptionNewAddress}}"
                      stepKey="chooseNewAddress"/>
        <waitForElementVisible selector="{{StorefrontOneStepCheckoutSection.AddNewBillingFirstName}}"
                               stepKey="waitForFieldFirstName"/>
        <fillField selector="{{StorefrontOneStepCheckoutSection.AddNewBillingFirstName}}"
                   userInput="{{newBillingAddress.firstname}}" stepKey="enterFirstName"/>
        <fillField selector="{{StorefrontOneStepCheckoutSection.AddNewBillingLastName}}"
                   userInput="{{newBillingAddress.lastname}}" stepKey="enterLastName"/>
        <fillField selector="{{StorefrontOneStepCheckoutSection.AddNewBillingStreet}}"
                   userInput="{{newBillingAddress.street}}" stepKey="enterStreet"/>
        <fillField selector="{{StorefrontOneStepCheckoutSection.AddNewBillingCity}}"
                   userInput="{{newBillingAddress.city}}" stepKey="enterCity"/>
        <selectOption selector="{{StorefrontOneStepCheckoutSection.AddNewBillingCountry}}"
                      userInput="{{newBillingAddress.country}}" stepKey="selectCountry"/>
        <fillField selector="{{StorefrontOneStepCheckoutSection.AddNewBillingPostcode}}"
                   userInput="{{newBillingAddress.postcode}}" stepKey="enterPostcode"/>
        <selectOption selector="{{StorefrontOneStepCheckoutSection.AddNewBillingRegion}}"
                      userInput="{{newBillingAddress.region}}" stepKey="selectRegion"/>
        <fillField selector="{{StorefrontOneStepCheckoutSection.AddNewBillingTelephone}}"
                   userInput="{{newBillingAddress.telephone}}" stepKey="enterTelephone"/>
        <uncheckOption selector="{{StorefrontOneStepCheckoutSection.AddNewBillingSaveInBook}}"
                       stepKey="uncheckSaveAddressInBook"/>
        <click selector="{{StorefrontOneStepCheckoutSection.AddNewBillingAddressUpdate}}"
               stepKey="clickToUpdateBillingAddress"/>
        <waitForPageLoad stepKey="waitForPageLoadAfterChangeAddress"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoadAfterChangeAddress"/>
    </actionGroup>

</actionGroups>
